<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Study Cafe | Enhanced Menu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Caveat:wght@700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --espresso-dark: #1F120D;
            --wood-bg: #2D1B14;
            --caramel: #E6A15C;
            --latte-cream: #FFFDF5;
            --post-it: #FFF9C4;
            --text-main: #2D1B14;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--wood-bg);
            background-image: url('https://www.transparenttextures.com/patterns/dark-wood.png'); 
            color: white;
            margin: 0;
        }

        .handwritten { font-family: 'Caveat', cursive; }
        .serif { font-family: 'Playfair Display', serif; }

        /* SIDEBAR STYLES */
        .sidebar-panel {
            background-color: var(--espresso-dark);
            width: 100%;
            padding: 25px;
            border-right: 3px solid #3E2723;
            box-shadow: 10px 0 30px rgba(0,0,0,0.6);
        }

        @media (min-width: 1024px) {
            .sidebar-panel { width: 320px; min-height: 100vh; }
        }

        .module-category-button {
            background: rgba(255,255,255,0.05);
            color: #D1D1D1;
            padding: 12px 15px;
            margin-bottom: 10px;
            border-radius: 6px;
            border: 1px solid rgba(230, 161, 92, 0.2);
            text-align: left;
            transition: 0.3s;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
            display: block;
            width: 100%;
        }

        .module-category-button.active {
            background-color: var(--caramel);
            color: var(--espresso-dark);
            border-color: #fff;
        }

        .method-button {
            color: var(--caramel);
            padding: 8px 15px 8px 30px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: 0.2s;
            opacity: 0.8;
            display: block;
        }
        
        .method-button.active {
            opacity: 1;
            font-weight: bold;
            color: #fff;
            text-decoration: underline;
        }

        /* CARD STYLES */
        .napkin-card { 
            background-color: var(--latte-cream); 
            color: var(--text-main);
            padding: 35px;
            box-shadow: 15px 15px 35px rgba(0,0,0,0.4);
            border-radius: 4px;
            transform: rotate(-0.5deg);
        }

        .post-it-card { 
            background-color: var(--post-it); 
            color: #4E342E;
            padding: 25px;
            box-shadow: 8px 8px 20px rgba(0,0,0,0.2);
            border-bottom-right-radius: 50px 15px;
            transform: rotate(1deg);
        }

        .card-header-label {
            font-family: 'Caveat', cursive;
            font-size: 1.8rem;
            color: #A0522D;
            margin-bottom: 10px;
            display: block;
            border-bottom: 2px solid rgba(160, 82, 45, 0.1);
        }

        .cup-loader {
            font-size: 70px;
            animation: steam 1.5s infinite ease-in-out;
        }

        @keyframes steam {
            0%, 100% { transform: translateY(0); opacity: 0.8; }
            50% { transform: translateY(-15px); opacity: 1; }
        }
    </style>
</head>
<body>

    <header class="sticky top-0 z-50 shadow-2xl" style="background-color: var(--espresso-dark); border-bottom: 3px solid var(--caramel);">
        <div class="flex justify-between items-center px-6 lg:px-10 py-5">
            <div class="flex items-center">
                <span class="text-3xl mr-3">‚òï</span>
                <span class="text-2xl font-bold tracking-tighter serif">THE STUDY <span style="color: var(--caramel);">CAFE</span></span>
            </div>

            <button id="menu-toggle" class="lg:hidden text-white text-3xl focus:outline-none">‚ò∞</button>

            <nav class="hidden lg:flex space-x-8 text-xs font-bold uppercase tracking-widest">
                <a href="index.html" class="text-gray-400 hover:text-white">DASHBOARD</a>
                <a href="tools.html" class="text-gray-400 hover:text-white">TOOLS</a>
                <a href="modules.html" class="text-white border-b-2 border-caramel">MODULES</a>
                <a href="Quiz.html" class="text-gray-400 hover:text-white">QUIZ</a>
                <a href="community.html" class="text-gray-400 hover:text-white">COMMUNITY</a>
            </nav>
        </div>

        <div id="mobile-menu" class="hidden lg:hidden bg-[#1F120D] px-6 pb-6 flex flex-col space-y-4 text-sm font-bold uppercase">
            <a href="index.html" class="text-gray-400">DASHBOARD</a>
            <a href="tools.html" class="text-gray-400">TOOLS</a>
            <a href="modules.html" class="text-caramel">MODULES</a>
            <a href="Quiz.html" class="text-gray-400">QUIZ</a>
            <a href="community.html" class="text-gray-400">COMMUNITY</a>
        </div>
    </header>

    <div class="flex flex-col lg:flex-row min-h-screen">
        <aside class="sidebar-panel">
            <h2 class="text-4xl handwritten text-center mb-10" style="color: var(--caramel);">Today's Specials</h2>
            <div id="module-list" class="flex flex-col space-y-2"></div>
        </aside>

        <main class="flex-1 p-6 lg:p-20">
            <div id="content-area"></div>
        </main>
    </div>

    <script>
        // MOBILE MENU LOGIC
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        menuToggle.onclick = () => mobileMenu.classList.toggle('hidden');

        // CONTENT DATA WITH YT LINKS
        const methodsData = {
            'pomodoro': {
                name: "The Pomodoro Espresso",
                category: 'time',
                info: "Break your work into 25-minute 'brews' followed by a quick 5-minute 'sip'. Keeps energy high and focus sharp.",
                secret: "The Secret: Use a physical timer for a healthy sense of urgency.",
                recipe: "1. Pick one task<br>2. Set timer for 25m<br>3. Work until bell rings<br>4. Take 5m break",
                video: "Mastering the Timer",
                videoUrl: "https://www.youtube.com/watch?v=mNBmG24djoY"
            },
            'frog': {
                name: "The Morning Frog Shot",
                category: 'focus',
                info: "Tackle your biggest, scariest task first thing in the morning. Once done, everything else feels easy.",
                secret: "The Secret: Do not check your phone until the frog is finished!",
                recipe: "1. Identify your hardest task<br>2. Block first 90m of day<br>3. Eat the frog!<br>4. Enjoy momentum",
                video: "Frog Method Guide",
                videoUrl: "https://www.youtube.com/watch?v=ntSraUH4Rlo"
            },
            'active-recall': {
                name: "The Recall Roast",
                category: 'study',
                info: "Force your brain to pull information out instead of just re-reading. Builds permanent long-term memory.",
                secret: "The Secret: Try to explain the concept to an empty chair without looking at notes.",
                recipe: "1. Read one section<br>2. Close the book<br>3. Write down everything you remember<br>4. Fill gaps",
                video: "Active Recall Tutorial",
                videoUrl: "https://www.youtube.com/watch?v=IyvlgRf7u3Y"
            }
        };

        const modules = {
            'time': { name: "Quick Shots", methods: ['pomodoro'] },
            'focus': { name: "Slow Brews", methods: ['frog'] },
            'study': { name: "Master Blends", methods: ['active-recall'] }
        };

        let currentOpenCategory = 'time';

        // MAIN RENDER FUNCTION
        function render(mId) {
            const data = methodsData[mId];
            if (!data) return;

            currentOpenCategory = data.category;
            const area = document.getElementById('content-area');
            const list = document.getElementById('module-list');

            // 1. Sidebar Re-build
            list.innerHTML = '';
            Object.keys(modules).forEach(catKey => {
                const isActiveCat = (catKey === currentOpenCategory);
                
                const catBtn = document.createElement('button');
                catBtn.className = `module-category-button ${isActiveCat ? 'active' : ''}`;
                catBtn.innerText = modules[catKey].name;
                catBtn.onclick = () => selectCategory(catKey);
                list.appendChild(catBtn);

                if(isActiveCat) {
                    modules[catKey].methods.forEach(methodId => {
                        const isSelectedMethod = (methodId === mId);
                        const methodBtn = document.createElement('button');
                        methodBtn.className = `method-button ${isSelectedMethod ? 'active' : ''}`;
                        methodBtn.innerText = methodsData[methodId].name;
                        methodBtn.onclick = () => render(methodId);
                        list.appendChild(methodBtn);
                    });
                }
            });

            // 2. Loading Animation
            area.innerHTML = `
                <div class="flex flex-col items-center justify-center py-10 lg:py-20">
                    <div class="cup-loader">‚òï</div>
                    <h2 class="handwritten text-3xl mt-5">Steaming your ${data.name}...</h2>
                </div>`;
            
            // 3. Update Actual Content
            setTimeout(() => {
                area.innerHTML = `
                    <h1 class="serif text-3xl lg:text-5xl text-center mb-10 lg:mb-16" style="color: var(--caramel)">${data.name}</h1>
                    <div class="grid lg:grid-cols-2 gap-8 lg:gap-12">
                        <div class="napkin-card">
                            <span class="card-header-label">The Secret Ingredient</span>
                            <p class="text-lg lg:text-xl leading-relaxed mb-6 font-medium">${data.info}</p>
                            <div class="p-4 bg-orange-100 border-l-4 border-orange-500 font-bold italic text-orange-900">${data.secret}</div>
                        </div>

                        <div class="space-y-8">
                            <div class="post-it-card">
                                <span class="card-header-label" style="color: #5D4037">The Recipe</span>
                                <p class="font-mono text-sm leading-loose">${data.recipe}</p>
                            </div>

                            <a href="${data.videoUrl}" target="_blank" class="bg-black/40 p-5 rounded-lg border-l-4 border-caramel flex justify-between items-center hover:bg-black/60 transition-all group">
                                <div>
                                    <p class="text-[10px] uppercase tracking-tighter text-gray-400">Barista's Guide</p>
                                    <p class="font-bold text-caramel group-hover:underline">${data.video}</p>
                                </div>
                                <span class="text-2xl group-hover:scale-110 transition-transform">üìΩÔ∏è</span>
                            </a>
                        </div>
                    </div>`;
            }, 600);
        }

        function selectCategory(catKey) {
            const firstId = modules[catKey].methods[0];
            render(firstId);
        }

        // Initialize the app
        window.onload = () => render('pomodoro');
    </script>
</body>
</html>
