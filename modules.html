<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Study Cafe | Enhanced Menu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Caveat:wght@700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --espresso-dark: #1F120D;
            --wood-bg: #2D1B14;
            --caramel: #E6A15C;
            --latte-cream: #FFFDF5;
            --post-it: #FFF9C4;
            --text-main: #2D1B14;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--wood-bg);
            background-image: url('https://www.transparenttextures.com/patterns/dark-wood.png'); 
            color: white;
            margin: 0;
        }

        .handwritten { font-family: 'Caveat', cursive; }
        .serif { font-family: 'Playfair Display', serif; }

        /* SIDEBAR */
        .sidebar-panel {
            background-color: var(--espresso-dark);
            width: 320px;
            padding: 25px;
            border-right: 3px solid #3E2723;
            box-shadow: 10px 0 30px rgba(0,0,0,0.6);
        }

        .module-category-button {
            background: rgba(255,255,255,0.05);
            color: #D1D1D1;
            padding: 12px 15px;
            margin-bottom: 10px;
            border-radius: 6px;
            border: 1px solid rgba(230, 161, 92, 0.2);
            text-align: left;
            transition: 0.3s;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
        }

        .module-category-button:hover {
            background: rgba(255,255,255,0.1);
        }

        .module-category-button.active {
            background-color: var(--caramel);
            color: var(--espresso-dark);
            border-color: #fff;
        }

        .method-button {
            color: var(--caramel);
            padding: 8px 15px 8px 30px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: 0.2s;
            opacity: 0.8;
        }
        
        .method-button.active {
            opacity: 1;
            font-weight: bold;
            color: #fff;
            text-decoration: underline;
        }

        /* CARDS */
        .napkin-card { 
            background-color: var(--latte-cream); 
            color: var(--text-main);
            padding: 40px;
            box-shadow: 15px 15px 35px rgba(0,0,0,0.4);
            transform: rotate(-1deg);
            border-radius: 4px;
        }

        .post-it-card { 
            background-color: var(--post-it); 
            color: #4E342E;
            padding: 25px;
            box-shadow: 8px 8px 20px rgba(0,0,0,0.2);
            transform: rotate(1.5deg);
            border-bottom-right-radius: 50px 15px;
        }

        .card-header-label {
            font-family: 'Caveat', cursive;
            font-size: 1.8rem;
            color: #A0522D;
            margin-bottom: 10px;
            display: block;
            border-bottom: 2px solid rgba(160, 82, 45, 0.1);
        }

        .cup-loader {
            font-size: 80px;
            animation: steam 1.5s infinite ease-in-out;
        }

        @keyframes steam {
            0%, 100% { transform: translateY(0); opacity: 0.8; }
            50% { transform: translateY(-20px); opacity: 1; }
        }
    </style>
</head>
<body>

    <header class="flex justify-between items-center px-10 py-5 sticky top-0 z-50 shadow-2xl" style="background-color: var(--espresso-dark); border-bottom: 3px solid var(--caramel);">
        <div class="flex items-center">
            <span class="text-3xl mr-3">‚òï</span>
            <span class="text-2xl font-bold tracking-tighter serif">THE STUDY <span style="color: var(--caramel);">CAFE</span></span>
        </div>
        <nav class="flex space-x-8 text-xs font-bold uppercase tracking-widest">
            <a href="#" class="text-gray-400 hover:text-white">DASHBOARD</a>
            <a href="#" class="text-gray-400 hover:text-white">TOOLS</a>
            <a href="#" class="text-white border-b-2 border-caramel">MODULES</a>
            <a href="#" class="text-gray-400 hover:text-white">QUIZ</a>
            <a href="#" class="text-gray-400 hover:text-white">COMMUNITY</a>
        </nav>
    </header>

    <div class="flex flex-col lg:flex-row min-h-screen">
        <aside class="sidebar-panel">
            <h2 class="text-4xl handwritten text-center mb-10" style="color: var(--caramel);">Today's Specials</h2>
            <div id="module-list" class="flex flex-col">
                </div>
        </aside>

        <main class="flex-1 p-10 lg:p-20">
            <div id="content-area">
                </div>
        </main>
    </div>

    <script>
        const methodsData = {
            'pomodoro': {
                name: "The Pomodoro Espresso",
                category: 'time',
                info: "Break your work into 25-minute 'brews' followed by a quick 5-minute 'sip'. This rhythm keeps your brain from burning out and maintains high energy.",
                secret: "The Secret: Use a physical timer. Seeing the time tick down creates a healthy sense of urgency.",
                recipe: "1. Pick one task<br>2. Set timer for 25m<br>3. Work until bell rings<br>4. Take 5m break",
                video: "Mastering the Timer"
            },
            'frog': {
                name: "The Morning Frog Shot",
                category: 'focus',
                info: "Tackle your biggest, scariest task first thing in the morning. Once the 'frog' is eaten, everything else in your day will feel light and easy.",
                secret: "The Secret: Do not check your email or phone until the frog is finished. No distractions allowed!",
                recipe: "1. Identify your hardest task<br>2. Block first 90m of day<br>3. Eat the frog!<br>4. Enjoy momentum",
                video: "Frog Method Guide"
            },
            'active-recall': {
                name: "The Recall Roast",
                category: 'study',
                info: "Instead of just re-reading notes, force your brain to pull information out. It‚Äôs like testing the strength of your coffee‚ÄîActive Recall builds long-term memory.",
                secret: "The Secret: Close the book. Try to explain the concept to an empty chair before looking at your notes again.",
                recipe: "1. Read one section<br>2. Close the book<br>3. Write down everything you remember<br>4. Check & fill gaps",
                video: "Active Recall Tutorial"
            }
        };

        const modules = {
            'time': { name: "Quick Shots", methods: ['pomodoro'] },
            'focus': { name: "Slow Brews", methods: ['frog'] },
            'study': { name: "Master Blends", methods: ['active-recall'] }
        };

        // This tracks which category is visually "open" in the sidebar
        let currentOpenCategory = 'time';

        function render(mId) {
            const data = methodsData[mId];
            currentOpenCategory = data.category; // Ensure sidebar matches content
            
            const area = document.getElementById('content-area');
            const list = document.getElementById('module-list');

            // 1. Update Sidebar UI
            list.innerHTML = '';
            Object.keys(modules).forEach(catKey => {
                const isActiveCat = (catKey === currentOpenCategory);
                
                // Add the main Category Button
                list.innerHTML += `
                    <div class="module-category-button ${isActiveCat ? 'active' : ''}" 
                         onclick="selectCategory('${catKey}')">
                        ${modules[catKey].name}
                    </div>`;

                // If this category is active, show the methods inside it
                if(isActiveCat) {
                    modules[catKey].methods.forEach(methodId => {
                        const isSelectedMethod = (methodId === mId);
                        list.innerHTML += `
                            <div class="method-button ${isSelectedMethod ? 'active' : ''}" 
                                 onclick="render('${methodId}')">
                                ${methodsData[methodId].name}
                            </div>`;
                    });
                }
            });

            // 2. Brewing Animation for Main Content
            area.innerHTML = `
                <div class="flex flex-col items-center justify-center py-20">
                    <div class="cup-loader">‚òï</div>
                    <h2 class="handwritten text-3xl mt-5">Steaming your ${data.name}...</h2>
                </div>`;
            
            // 3. Load actual content after animation delay
            setTimeout(() => {
                area.innerHTML = `
                    <h1 class="serif text-5xl text-center mb-16" style="color: var(--caramel)">${data.name}</h1>
                    <div class="grid lg:grid-cols-2 gap-12">
                        <div class="napkin-card">
                            <span class="card-header-label">The Secret Ingredient</span>
                            <p class="text-xl leading-relaxed mb-6 font-medium">${data.info}</p>
                            <div class="p-4 bg-orange-100 border-l-4 border-orange-500 font-bold italic text-orange-900">${data.secret}</div>
                        </div>
                        <div class="space-y-10">
                            <div class="post-it-card">
                                <span class="card-header-label" style="color: #5D4037">The Recipe</span>
                                <p class="font-mono text-sm leading-loose">${data.recipe}</p>
                            </div>
                            <div class="bg-black/40 p-5 rounded-lg border-l-4 border-caramel flex justify-between items-center">
                                <div>
                                    <p class="text-[10px] uppercase tracking-tighter text-gray-400">Barista's Guide</p>
                                    <p class="font-bold text-caramel">${data.video}</p>
                                </div>
                                <span class="text-2xl">üìΩÔ∏è</span>
                            </div>
                        </div>
                    </div>
                `;
            }, 700);
        }

        // Helper function for when a user clicks a main Category header
        function selectCategory(catKey) {
            const firstMethod = modules[catKey].methods[0];
            render(firstMethod);
        }

        // Initialize with Pomodoro
        render('pomodoro');
    </script>
</body>
</html>
